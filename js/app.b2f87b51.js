(function(){"use strict";var t={6586:function(t,e,i){var n=i(7348),o=i(5909);function s(t,e,i,n,s,r){const a=(0,o.g2)("MeteorShowers");return(0,o.uX)(),(0,o.Wv)(a)}const r={id:"meteor-canvas",ref:"meteorCanvas"};function a(t,e,i,n,s,a){const h=(0,o.g2)("MeteorControlPanel");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("canvas",r,null,512),(0,o.bF)(h,{config:s.meteorConfig,"onUpdate:config":a.onConfigUpdate},null,8,["config","onUpdate:config"])],64)}i(1542);var h=i(8112);const l={class:"meteor-control-panel"},c={class:"control-header"},d=["aria-label"],M={key:0,class:"fa-solid fa-chevron-up"},_={key:1,class:"fa-solid fa-chevron-down"},E={key:0},u={class:"control-label"},f={class:"control-slider"},p=["id","min","max","step","onUpdate:modelValue"],m={class:"control-value"},T=["id","min","max","step","onUpdate:modelValue","onInput"];function g(t,e,i,s,r,a){return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("div",c,[(0,o.Lk)("h2",{class:"control-title",style:(0,h.Tr)({marginRight:r.isOpen?"0px":"32px"})},"Meteor controls",4),(0,o.Lk)("button",{class:"toggle-btn icon-btn",onClick:e[0]||(e[0]=t=>r.isOpen=!r.isOpen),"aria-label":r.isOpen?"Hide controls":"Show controls"},[r.isOpen?((0,o.uX)(),(0,o.CE)("i",M)):((0,o.uX)(),(0,o.CE)("i",_))],8,d)]),r.isOpen?((0,o.uX)(),(0,o.CE)("div",E,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.localConfig,(t,i)=>((0,o.uX)(),(0,o.CE)("div",{key:i,class:"control-row"},[(0,o.Lk)("div",u,(0,h.v_)(a.formatLabel(i)),1),(0,o.Lk)("div",f,[(0,o.bo)((0,o.Lk)("input",{type:"range",id:i+"-slider",min:a.getMin(i),max:a.getMax(i),step:a.getStep(i),"onUpdate:modelValue":t=>r.localConfig[i]=t,onInput:e[1]||(e[1]=(...t)=>a.emitUpdate&&a.emitUpdate(...t))},null,40,p),[[n.Jo,r.localConfig[i],void 0,{number:!0}]])]),(0,o.Lk)("div",m,[(0,o.bo)((0,o.Lk)("input",{type:"number",id:i+"-number",min:a.getMin(i),max:a.getMax(i),step:a.getStep(i),"onUpdate:modelValue":t=>r.localConfig[i]=t,onInput:t=>a.onNumberInput(i,t)},null,40,T),[[n.Jo,r.localConfig[i]]])])]))),128))])):(0,o.Q3)("",!0)])}var C={name:"MeteorControlPanel",props:{config:{type:Object,required:!0}},data(){return{localConfig:{...this.config},isOpen:!0,minMax:{METEOR_SPEED_MIN:[1,30],METEOR_SPEED_MAX:[1,30],METEOR_LENGTH_MIN:[50,500],METEOR_LENGTH_MAX:[50,500],METEOR_LINEWIDTH_MIN:[1,10],METEOR_LINEWIDTH_MAX:[1,10],METEOR_OPACITY_MIN:[0,1],METEOR_OPACITY_MAX:[0,1],METEOR_FADING_FACTOR:[.001,.1],SPAWN_ZONE_WIDTH_SCALE:[.01,1],RADIANT_POSITION_Y:[-500,-50],BURST_CHANCE:[0,1],BURST_MIN_COUNT:[1,5],BURST_MAX_COUNT:[1,5],PAUSE_MIN_MS:[100,1e4],PAUSE_MAX_MS:[100,1e4]},step:{METEOR_OPACITY_MIN:.01,METEOR_OPACITY_MAX:.01,METEOR_FADING_FACTOR:.001,SPAWN_ZONE_WIDTH_SCALE:.01,BURST_CHANCE:.01,default:1}}},watch:{config:{handler(t){this.localConfig={...t}},deep:!0}},methods:{emitUpdate(){this.$emit("update:config",{...this.localConfig})},onNumberInput(t,e){const i=e.target.value;if(""===i)this.localConfig[t]=this.getMin(t);else{let e=Number(i);const n=this.getMin(t),o=this.getMax(t);e<n&&(e=n),e>o&&(e=o),this.localConfig[t]=e}this.emitUpdate()},isNumber(t){return"number"===typeof t},getMin(t){return this.minMax[t][0]},getMax(t){return this.minMax[t][1]},getStep(t){return this.step[t]||this.step.default},formatLabel(t){const e=t.toLowerCase().split("_");return e.length?(e[0]=e[0].charAt(0).toUpperCase()+e[0].slice(1),e.join(" ")):t}}},O=i(7870);const I=(0,O.A)(C,[["render",g],["__scopeId","data-v-da505fee"]]);var N=I,A={name:"MeteorShowers",components:{MeteorControlPanel:N},data(){return{context:null,width:window.innerWidth,height:window.innerHeight,meteors:[],radiant:null,animationFrameId:null,meteorTimeoutId:null,meteorConfig:{METEOR_SPEED_MIN:6,METEOR_SPEED_MAX:13,METEOR_LENGTH_MIN:70,METEOR_LENGTH_MAX:220,METEOR_LINEWIDTH_MIN:2,METEOR_LINEWIDTH_MAX:6,METEOR_OPACITY_MIN:.4,METEOR_OPACITY_MAX:1,METEOR_FADING_FACTOR:.01,SPAWN_ZONE_WIDTH_SCALE:.2,RADIANT_POSITION_Y:-50,BURST_CHANCE:.05,BURST_MIN_COUNT:2,BURST_MAX_COUNT:3,PAUSE_MIN_MS:1e3,PAUSE_MAX_MS:3e3}}},methods:{spawnMeteor(){const t=this.width*this.meteorConfig.SPAWN_ZONE_WIDTH_SCALE,e=(this.width-t)/2,i=Math.random()*t+e,n=0,o=Math.atan2(n-this.radiant.positionY,i-this.radiant.positionX),s=Math.random()*(this.meteorConfig.METEOR_SPEED_MAX-this.meteorConfig.METEOR_SPEED_MIN)+this.meteorConfig.METEOR_SPEED_MIN,r=Math.random()*(this.meteorConfig.METEOR_LENGTH_MAX-this.meteorConfig.METEOR_LENGTH_MIN)+this.meteorConfig.METEOR_LENGTH_MIN,a=Math.random()*(this.meteorConfig.METEOR_LINEWIDTH_MAX-this.meteorConfig.METEOR_LINEWIDTH_MIN)+this.meteorConfig.METEOR_LINEWIDTH_MIN,h=Math.random()*(this.meteorConfig.METEOR_OPACITY_MAX-this.meteorConfig.METEOR_OPACITY_MIN)+this.meteorConfig.METEOR_OPACITY_MIN;this.meteors.push({positionX:i,positionY:n,stepSizeX:Math.cos(o)*s,stepSizeY:Math.sin(o)*s,length:r,lineWidth:a,opacity:h})},drawMeteors(){this.context.clearRect(0,0,this.width,this.height);for(let t=this.meteors.length-1;t>=0;t--){const e=this.meteors[t],i=e.positionX,n=e.positionY,o=Math.atan2(e.stepSizeY,e.stepSizeX),s=i-Math.cos(o)*e.length,r=n-Math.sin(o)*e.length;this.context.globalAlpha=e.opacity;const a=this.context.createLinearGradient(i,n,s,r);a.addColorStop(0,"rgba(255, 255, 255, 0.6)"),a.addColorStop(1,"rgba(255, 255, 255, 0)");const h=-Math.sin(o),l=Math.cos(o),c=i+e.lineWidth/2*h,d=n+e.lineWidth/2*l,M=i-e.lineWidth/2*h,_=n-e.lineWidth/2*l;this.context.beginPath(),this.context.moveTo(c,d),this.context.lineTo(M,_),this.context.lineTo(s,r),this.context.closePath(),this.context.fillStyle=a,this.context.fill(),this.context.beginPath(),this.context.arc(i,n,e.lineWidth/2,0,2*Math.PI),this.context.fillStyle="white",this.context.fill(),this.context.globalAlpha=1,e.positionX+=e.stepSizeX,e.positionY+=e.stepSizeY,e.opacity-=this.meteorConfig.METEOR_FADING_FACTOR;const E=e.opacity<=0,u=e.positionX>this.width+e.length||e.positionY>this.height+e.length;(E||u)&&this.meteors.splice(t,1)}this.animationFrameId=requestAnimationFrame(this.drawMeteors)},handleResize(){this.width=window.innerWidth,this.height=window.innerHeight,this.radiant.positionX=this.width/2;const t=this.$refs.meteorCanvas;t.width=this.width,t.height=this.height},setupCanvas(){const t=this.$refs.meteorCanvas;this.context=t.getContext("2d"),t.width=this.width,t.height=this.height},scheduleNextMeteor(){this.meteorTimeoutId=setTimeout(()=>{if(Math.random()<this.meteorConfig.BURST_CHANCE){const t=Math.floor(Math.random()*(this.meteorConfig.BURST_MAX_COUNT-this.meteorConfig.BURST_MIN_COUNT+1))+this.meteorConfig.BURST_MIN_COUNT;for(let e=0;e<t;e++)this.spawnMeteor()}else this.spawnMeteor();this.scheduleNextMeteor()},Math.random()<.5?this.meteorConfig.PAUSE_MIN_MS:this.meteorConfig.PAUSE_MAX_MS)},onConfigUpdate(t){this.meteorConfig={...t},this.radiant&&this.radiant.positionY!==this.meteorConfig.RADIANT_POSITION_Y&&(this.radiant.positionY=this.meteorConfig.RADIANT_POSITION_Y)}},mounted(){this.radiant={positionX:this.width/2,positionY:this.meteorConfig.RADIANT_POSITION_Y},this.setupCanvas(),this.drawMeteors(),this.scheduleNextMeteor(),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize),cancelAnimationFrame(this.animationFrameId),clearTimeout(this.meteorTimeoutId)}};const S=(0,O.A)(A,[["render",a],["__scopeId","data-v-bd42d86a"]]);var R=S,v={name:"App",components:{MeteorShowers:R}};const w=(0,O.A)(v,[["render",s]]);var b=w;(0,n.Ef)(b).mount("#app")}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}i.m=t,function(){var t=[];i.O=function(e,n,o,s){if(!n){var r=1/0;for(c=0;c<t.length;c++){n=t[c][0],o=t[c][1],s=t[c][2];for(var a=!0,h=0;h<n.length;h++)(!1&s||r>=s)&&Object.keys(i.O).every(function(t){return i.O[t](n[h])})?n.splice(h--,1):(a=!1,s<r&&(r=s));if(a){t.splice(c--,1);var l=o();void 0!==l&&(e=l)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[n,o,s]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,s,r=n[0],a=n[1],h=n[2],l=0;if(r.some(function(e){return 0!==t[e]})){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(h)var c=h(i)}for(e&&e(n);l<r.length;l++)s=r[l],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(c)},n=self["webpackChunkMeteorShowerEffect"]=self["webpackChunkMeteorShowerEffect"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[504],function(){return i(6586)});n=i.O(n)})();
//# sourceMappingURL=app.b2f87b51.js.map